{"ast":null,"code":"import _toConsumableArray from\"C:/Users/patil/Desktop/Blog Application Project/Test/blog-app-main (2)/blog-app-main/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/patil/Desktop/Blog Application Project/Test/blog-app-main (2)/blog-app-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState}from\"react\";import{useEffect}from\"react\";import{loadAllPosts}from\"../services/post-service\";import{Row,Col}from\"reactstrap\";import{toast}from\"react-toastify\";import InfiniteScroll from\"react-infinite-scroll-component\";import Base from\"../components/Base\";import Post from\"../components/Post\";import{loadPostByCat}from\"../services/post-service\";import\"./Services.css\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Services=function Services(){//defining postContent\nvar _useState=useState({content:[],totalPages:\"\",totalElements:\"\",pageSize:\"\",lastPage:false,pageNumber:\"\"}),_useState2=_slicedToArray(_useState,2),postContent=_useState2[0],setPostContent=_useState2[1];// to call a function for a first Time\nvar _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];useEffect(function(){console.log(\"loading posts\");console.log(currentPage);changePage(currentPage);},[currentPage]);var changePage=function changePage(event){var pageNumber=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var pageSize=arguments.length>2&&arguments[2]!==undefined?arguments[2]:5;console.log(\"******************************\");console.log(event);var x=1;switch(event){case\"Orange\":x=1;break;case\"Radish\":x=2;break;case\"Cherry\":x=2;break;default:x=1;}if(pageNumber>postContent.pageNumber&&postContent.lastPage){return;}if(pageNumber<postContent.pageNumber&&postContent.pageNumber==0){return;}console.log(x);loadPostByCat(x,pageNumber,pageSize).then(function(data){console.log(data,\"Before\");setPostContent({content:[].concat(_toConsumableArray(postContent.content),_toConsumableArray(data.content)),totalPages:data.totalPages,totalElements:data.totalElements,pageSize:data.pageSize,lastPage:data.lastPage,pageNumber:data.pageNumber});console.log(setPostContent,\"After\");}).catch(function(error){toast.error(\"Error in loading posts\");});};var changePageInfinite=function changePageInfinite(){console.log(\"page chagned\");setCurrentPage(currentPage+1);};var getInitialState=function getInitialState(){var value=\"Orange\";return value;};var _useState5=useState(getInitialState),_useState6=_slicedToArray(_useState5,2),value=_useState6[0],setValue=_useState6[1];var handleChange=function handleChange(e){setValue(e.target.value);console.log(\"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\");console.log(e.target.value);changePage(e.target.value);};return/*#__PURE__*/_jsx(Base,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid pt-5 pe-1 ps-1\",children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{md:{size:10,offset:1},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex categorySelect\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[value,\" ( \",postContent===null||postContent===void 0?void 0:postContent.totalElements,\" )\"]}),/*#__PURE__*/_jsxs(\"select\",{value:value,onChange:handleChange,class:\"rounded col-sm-1 categoryDrop \",\"aria-label\":\"Default select example\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Orange\",children:\"Orange\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Radish\",children:\"Radish\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Cherry\",children:\"Cherry\"})]})]}),/*#__PURE__*/_jsx(InfiniteScroll,{dataLength:postContent.content.length,next:changePageInfinite,hasMore:!postContent.lastPage,loader:/*#__PURE__*/_jsx(\"h4\",{children:\"Loading...\"}),endMessage:/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"b\",{children:\"Yay! You have seen it all\"})}),children:postContent.content.map(function(post,index){return/*#__PURE__*/_jsx(Post,{post:post},index);})})]})})})});};export default Services;","map":{"version":3,"names":["React","useState","useEffect","loadAllPosts","Row","Col","toast","InfiniteScroll","Base","Post","loadPostByCat","Services","content","totalPages","totalElements","pageSize","lastPage","pageNumber","postContent","setPostContent","currentPage","setCurrentPage","console","log","changePage","event","x","then","data","catch","error","changePageInfinite","getInitialState","value","setValue","handleChange","e","target","size","offset","length","textAlign","map","post","index"],"sources":["C:/Users/patil/Desktop/Blog Application Project/Test/blog-app-main (2)/blog-app-main/src/pages/Services.jsx"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { loadAllPosts } from \"../services/post-service\";\nimport { Row, Col } from \"reactstrap\";\nimport { toast } from \"react-toastify\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport Base from \"../components/Base\";\nimport Post from \"../components/Post\";\nimport { loadPostByCat } from \"../services/post-service\";\nimport \"./Services.css\";\nconst Services = () => {\n  //defining postContent\n  const [postContent, setPostContent] = useState({\n    content: [],\n    totalPages: \"\",\n    totalElements: \"\",\n    pageSize: \"\",\n    lastPage: false,\n    pageNumber: \"\",\n  });\n\n  \n  \n\n  // to call a function for a first Time\n  const [currentPage, setCurrentPage] = useState(0);\n\n  useEffect(() => {\n    console.log(\"loading posts\");\n    console.log(currentPage);\n    changePage(currentPage);\n  }, [currentPage]);\n\n  const changePage = (event , pageNumber = 0, pageSize = 5) => {\n\n    \n    console.log(\"******************************\");  \n    console.log(event);\n    let x=1;\n    switch (event) {\n      case \"Orange\":\n        x = 1;\n        break;\n      case \"Radish\":\n        x = 2;\n        break;\n      case \"Cherry\":\n        x = 2;\n        break;\n      default:\n        x = 1;\n    }\n\n    if (pageNumber > postContent.pageNumber && postContent.lastPage) {\n      return;\n    }\n    if (pageNumber < postContent.pageNumber && postContent.pageNumber == 0) {\n      return;\n    }\n    console.log(x);\n    loadPostByCat(x, pageNumber, pageSize)\n      .then((data) => {\n          console.log(data,\"Before\")\n        setPostContent({\n          content: [...postContent.content, ...data.content],\n          totalPages: data.totalPages,\n          totalElements: data.totalElements,\n          pageSize: data.pageSize,\n          lastPage: data.lastPage,\n          pageNumber: data.pageNumber,\n        });\n\n        console.log(setPostContent,\"After\");\n      })\n      .catch((error) => {\n        toast.error(\"Error in loading posts\");\n      });\n      \n  };\n\n  const changePageInfinite = () => {\n    console.log(\"page chagned\");\n    setCurrentPage(currentPage + 1);\n  };\n\n  const getInitialState = () => {\n    const value = \"Orange\";\n    return value;\n  };\n\n  const [value, setValue] = useState(getInitialState);\n\n  const handleChange = (e) => {\n    setValue(e.target.value);\n    console.log(\"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\");\n    console.log(e.target.value);\n    changePage(e.target.value);\n  };\n\n  return (\n    <Base>\n      <div className=\"container-fluid pt-5 pe-1 ps-1\">\n        <Row>\n          <Col\n            md={{\n              size: 10,\n              offset: 1,\n            }}\n          >\n            <div className=\"d-flex categorySelect\">\n              <h1>\n                {value} ( {postContent?.totalElements} )\n              </h1>\n              <select\n                value={value}\n                onChange={handleChange}\n                class=\"rounded col-sm-1 categoryDrop \"\n                aria-label=\"Default select example\"\n              >\n                <option value=\"Orange\">Orange</option>\n                <option value=\"Radish\">Radish</option>\n                <option value=\"Cherry\">Cherry</option>\n              </select>\n            </div>\n\n            <InfiniteScroll\n              dataLength={postContent.content.length}\n              next={changePageInfinite}\n              hasMore={!postContent.lastPage}\n              loader={<h4>Loading...</h4>}\n              endMessage={\n                <p style={{ textAlign: \"center\" }}>\n                  <b>Yay! You have seen it all</b>\n                </p>\n              }\n            >\n              {postContent.content.map((post, index) => (\n                <Post post={post} key={index} />\n              ))}\n            </InfiniteScroll>\n          </Col>\n        </Row>\n      </div>\n    </Base>\n  );\n};\n\nexport default Services;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}