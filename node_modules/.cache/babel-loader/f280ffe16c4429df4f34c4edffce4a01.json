{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\patil\\\\Desktop\\\\Blog Application Project\\\\Test\\\\blog-app-main (2)\\\\blog-app-main\\\\src\\\\pages\\\\PostPage.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { Button, Card, CardBody, CardText, Col, Container, Input, Row } from \"reactstrap\";\nimport Base from \"../components/Base\";\nimport { createComment, loadPost } from \"../services/post-service\";\nimport { toast } from 'react-toastify';\nimport { BASE_URL } from \"../services/helper\";\nimport { isLoggedIn } from \"../auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PostPage = () => {\n  _s();\n\n  const {\n    postId\n  } = useParams();\n  const [post, setPost] = useState(null);\n  const [comment, setComment] = useState({\n    content: \"\"\n  });\n  useEffect(() => {\n    // load post of postId \n    loadPost(postId).then(data => {\n      console.log(data);\n      setPost(data);\n    }).catch(error => {\n      console.log(error);\n      toast.error(\"Error in loading post\");\n    });\n  }, []);\n\n  const printDate = numbers => {\n    return new Date(numbers).toLocaleDateString();\n  };\n\n  const submitPost = () => {\n    if (!isLoggedIn()) {\n      toast.error(\"Need to login first !!\");\n      return;\n    }\n\n    if (comment.content.trim() === '') {\n      return;\n    }\n\n    createComment(comment, post.postId).then(data => {\n      console.log(data);\n      toast.success(\"comment added ..\");\n      setPost({ ...post,\n        comments: [...post.comments, data.data]\n      });\n      setComment({\n        content: \"\"\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Base, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      className: \"mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: \"Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), \" / \", post && /*#__PURE__*/_jsxDEV(Link, {\n        to: \"\",\n        children: [\"  \", post.title, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 54\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: {\n            size: 12\n          },\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"mt-3 ps-2 border-0 shadow-sm\",\n            children: post && /*#__PURE__*/_jsxDEV(CardBody, {\n              children: [/*#__PURE__*/_jsxDEV(CardText, {\n                children: [\" Posted By \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: post.user.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 62\n                }, this), \" on \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: [printDate(post.addedDate), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 89\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(CardText, {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-muted\",\n                  children: post.category.categoryTitle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"divder\",\n                style: {\n                  width: '100%',\n                  height: '1px',\n                  background: '#e2e2e2'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(CardText, {\n                className: \"mt-3\",\n                children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                  children: post.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-container  mt-4 shadow  \",\n                style: {\n                  maxWidth: '50%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(CardText, {\n                className: \"mt-5\",\n                dangerouslySetInnerHTML: {\n                  __html: post.content\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"my-4\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: {\n            size: 9,\n            offset: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Comments ( \", post ? post.comments.length : 0, \" )\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }, this), post && post.comments.map((c, index) => /*#__PURE__*/_jsxDEV(Card, {\n            className: \"mt-4 border-0\",\n            children: /*#__PURE__*/_jsxDEV(CardBody, {\n              children: /*#__PURE__*/_jsxDEV(CardText, {\n                children: c.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 37\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 33\n          }, this)), /*#__PURE__*/_jsxDEV(Card, {\n            className: \"mt-4 border-0\",\n            children: /*#__PURE__*/_jsxDEV(CardBody, {\n              children: [/*#__PURE__*/_jsxDEV(Input, {\n                type: \"textarea\",\n                placeholder: \"Enter comment here\",\n                value: comment.content,\n                onChange: event => setComment({\n                  content: event.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: submitPost,\n                className: \"mt-2\",\n                color: \"primary\",\n                children: \"Submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n};\n\n_s(PostPage, \"LJEgKcNyRR2iPwdwJbX1pnjSwfk=\", false, function () {\n  return [useParams];\n});\n\n_c = PostPage;\nexport default PostPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostPage\");","map":{"version":3,"names":["useState","useEffect","Link","useParams","Button","Card","CardBody","CardText","Col","Container","Input","Row","Base","createComment","loadPost","toast","BASE_URL","isLoggedIn","PostPage","postId","post","setPost","comment","setComment","content","then","data","console","log","catch","error","printDate","numbers","Date","toLocaleDateString","submitPost","trim","success","comments","title","size","user","name","addedDate","category","categoryTitle","width","height","background","maxWidth","__html","offset","length","map","c","index","event","target","value"],"sources":["C:/Users/patil/Desktop/Blog Application Project/Test/blog-app-main (2)/blog-app-main/src/pages/PostPage.jsx"],"sourcesContent":["import { useState } from \"react\"\nimport { useEffect } from \"react\"\nimport { Link, useParams } from \"react-router-dom\"\nimport { Button, Card, CardBody, CardText, Col, Container, Input, Row } from \"reactstrap\"\nimport Base from \"../components/Base\"\nimport { createComment, loadPost } from \"../services/post-service\"\nimport { toast } from 'react-toastify'\nimport { BASE_URL } from \"../services/helper\"\nimport { isLoggedIn } from \"../auth\"\nconst PostPage = () => {\n\n    const { postId } = useParams()\n    const [post, setPost] = useState(null)\n    const [comment, setComment] = useState({\n        content: \"\"\n    })\n\n    useEffect(() => {\n        // load post of postId \n        loadPost(postId).then(data => {\n            console.log(data);\n            setPost(data)\n\n        }).catch(error => {\n            console.log(error)\n            toast.error(\"Error in loading post\")\n        })\n\n    }, [])\n\n    const printDate = (numbers) => {\n\n        return new Date(numbers).toLocaleDateString()\n    }\n\n    const submitPost=()=>{\n\n        if(!isLoggedIn()){\n                toast.error(\"Need to login first !!\")\n                return\n        }\n\n        if(comment.content.trim()===''){\n            return\n        }\n        createComment(comment,post.postId)\n        .then(data=>{\n            console.log(data)\n            toast.success(\"comment added ..\")\n            setPost({\n                ...post,\n                comments:[...post.comments,data.data]\n            })\n            setComment({\n                content:\"\"\n            })\n        }).catch(error=>{\n            console.log(error)\n        })\n    }\n\n    return (\n\n        <Base>\n\n\n            <Container className=\"mt-4\">\n\n                <Link to=\"/\">Home</Link> / {post && (<Link to=\"\" >  {post.title} </Link>)}\n\n                <Row>\n\n                    <Col md={{\n                        size: 12\n                    }}>\n\n                        <Card className=\"mt-3 ps-2 border-0 shadow-sm\" >\n\n\n                            {\n                                (post) && (\n                                    <CardBody>\n                                        <CardText> Posted By <b>{post.user.name}</b> on <b>{printDate(post.addedDate)} </b> </CardText>\n\n                                        <CardText>\n                                            <span className=\"text-muted\">{post.category.categoryTitle}</span>\n                                        </CardText>\n\n                                        <div className=\"divder\" style={{\n                                            width: '100%',\n                                            height: '1px',\n                                            background: '#e2e2e2'\n\n                                        }}></div>\n\n                                        <CardText className=\"mt-3\">\n                                            <h1>{post.title}</h1>\n                                        </CardText>\n                                        <div className=\"image-container  mt-4 shadow  \" style={{ maxWidth: '50%' }}>\n                                            {/* <img className=\"img-fluid\" src={BASE_URL + '/post/image/' + post.imageName} alt=\"\" /> */}\n                                            {/* <img className=\"img-fluid\" src={\"https://i.ibb.co/GtQDBrN/luigi-pozzoli-Db8x-EYwtd-Ww-unsplash-3.jpg\"} alt=\"\" /> */}\n                                        </div>\n                                        <CardText className=\"mt-5\" dangerouslySetInnerHTML={{ __html: post.content }}>\n\n                                        </CardText>\n\n                                    </CardBody>\n                                )\n                            }\n\n                        </Card>\n\n                    </Col>\n                </Row>\n\n                <Row className=\"my-4\">\n\n                    <Col md={\n\n                        {\n                            size: 9,\n                            offset: 1\n                        }\n                    }>\n                        <h3>Comments ( {post ? post.comments.length : 0} )</h3>\n\n                        {\n                            post && post.comments.map((c, index) => (\n                                <Card className=\"mt-4 border-0\" key={index}>\n                                    <CardBody>\n                                        <CardText>\n                                            {c.content}\n                                        </CardText>\n                                    </CardBody>\n                                </Card>\n                            ))\n                        }\n\n                        <Card className=\"mt-4 border-0\" >\n                            <CardBody>\n\n                                <Input\n                                    type=\"textarea\"\n                                    placeholder=\"Enter comment here\"\n                                    value={comment.content}\n                                    onChange={(event) => setComment({content:event.target.value})}\n                                />\n\n                                <Button  onClick={submitPost} className=\"mt-2\" color=\"primary\">Submit</Button>\n                            </CardBody>\n                        </Card>\n\n                    </Col>\n\n                </Row>\n\n            </Container>\n\n\n        </Base>\n\n    )\n}\n\nexport default PostPage"],"mappings":"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"},"metadata":{},"sourceType":"module"}