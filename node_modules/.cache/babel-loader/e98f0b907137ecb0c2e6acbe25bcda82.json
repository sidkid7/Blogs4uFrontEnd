{"ast":null,"code":"import _defineProperty from\"C:/Users/patil/Desktop/Blog Application Project/Test/blog-app-main (2)/blog-app-main/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/patil/Desktop/Blog Application Project/Test/blog-app-main (2)/blog-app-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/patil/Desktop/Blog Application Project/Test/blog-app-main (2)/blog-app-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{toast}from\"react-toastify\";import{Label,Card,CardBody,CardHeader,Col,Container,Form,FormGroup,Input,Row,Button}from\"reactstrap\";import Base from\"../components/Base\";import{loginUser}from\"../services/user-service\";import{doLogin}from\"../auth\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var navigate=useNavigate();var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),loginDetail=_useState2[0],setLoginDetail=_useState2[1];var handleChange=function handleChange(event,field){var actualValue=event.target.value;setLoginDetail(_objectSpread(_objectSpread({},loginDetail),{},_defineProperty({},field,actualValue)));};var handleReset=function handleReset(){setLoginDetail({username:\"\",password:\"\"});};var handleFormSubmit=function handleFormSubmit(event){event.preventDefault();console.log(loginDetail);//validation\nif(loginDetail.username.trim()==\"\"||loginDetail.password.trim()==\"\"){toast.error(\"Username or Password  is required !!\");return;}//submit the data to server to generate token\nloginUser(loginDetail).then(function(data){console.log(data);//save the data to localstorage\ndoLogin(data,function(){console.log(\"login detail is saved to localstorage\");//redirect to user dashboard page\nnavigate(\"/user/dashboard\");});toast.success(\"Login Success\");}).catch(function(error){console.log(error);if(error.response.status==400||error.response.status==404){toast.error(error.response.data.message);}else{toast.error(\"Something went wrong  on sever !!\");}});};return/*#__PURE__*/_jsx(Base,{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{className:\"mt-4\",children:/*#__PURE__*/_jsx(Col,{sm:{size:6,offset:3},children:/*#__PURE__*/_jsxs(Card,{color:\"dark\",inverse:true,children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(\"h3\",{children:\"Login Here !!\"})}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"email\",children:\"Enter Email\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"email\",value:loginDetail.username,onChange:function onChange(e){return handleChange(e,\"username\");}})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"password\",children:\"Enter password\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",id:\"password\",value:loginDetail.password,onChange:function onChange(e){return handleChange(e,\"password\");}})]}),/*#__PURE__*/_jsxs(Container,{className:\"text-center\",children:[/*#__PURE__*/_jsx(Button,{color:\"light\",outline:true,children:\"Login\"}),/*#__PURE__*/_jsx(Button,{onClick:handleReset,className:\"ms-2\",outline:true,color:\"secondary\",children:\"Reset\"})]})]})})]})})})})});};export default Login;","map":{"version":3,"names":["useState","toast","Label","Card","CardBody","CardHeader","Col","Container","Form","FormGroup","Input","Row","Button","Base","loginUser","doLogin","useNavigate","Login","navigate","username","password","loginDetail","setLoginDetail","handleChange","event","field","actualValue","target","value","handleReset","handleFormSubmit","preventDefault","console","log","trim","error","then","data","success","catch","response","status","message","size","offset","e"],"sources":["C:/Users/patil/Desktop/Blog Application Project/Test/blog-app-main (2)/blog-app-main/src/pages/Login.js"],"sourcesContent":["import { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport {\n  Label,\n  Card,\n  CardBody,\n  CardHeader,\n  Col,\n  Container,\n  Form,\n  FormGroup,\n  Input,\n  Row,\n  Button,\n} from \"reactstrap\";\nimport Base from \"../components/Base\";\nimport { loginUser } from \"../services/user-service\";\nimport { doLogin } from \"../auth\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Login = () => {\n\n  const navigate=useNavigate()\n\n  const [loginDetail, setLoginDetail] = useState({\n    username: \"\",\n    password: \"\",\n  });\n\n  const handleChange = (event, field) => {\n    let actualValue = event.target.value;\n    setLoginDetail({\n      ...loginDetail,\n      [field]: actualValue,\n    });\n  };\n\n  const handleReset = () => {\n    setLoginDetail({\n      username: \"\",\n      password: \"\",\n    });\n  };\n\n  const handleFormSubmit = (event) => {\n    event.preventDefault();\n    console.log(loginDetail);\n    //validation\n    if (\n      loginDetail.username.trim() == \"\" ||\n      loginDetail.password.trim() == \"\"\n    ) {\n      toast.error(\"Username or Password  is required !!\");\n      return;\n    }\n\n    //submit the data to server to generate token\n      loginUser(loginDetail).then((data)=>{\n        console.log(data)\n\n\n        //save the data to localstorage\n        doLogin(data,()=>{\n          console.log(\"login detail is saved to localstorage\")\n          //redirect to user dashboard page\n          navigate(\"/user/dashboard\")\n\n\n        })\n\n        toast.success(\"Login Success\")\n      }).catch(error=>{\n        console.log(error)\n        if(error.response.status==400 || error.response.status==404){\n          toast.error(error.response.data.message)\n        }else{\n          toast.error(\"Something went wrong  on sever !!\")\n        }\n      \n      })\n\n  };\n\n  return (\n    <Base>\n      <Container>\n        <Row className=\"mt-4\">\n          <Col\n            sm={{\n              size: 6,\n              offset: 3,\n            }}\n          >\n            <Card color=\"dark\" inverse>\n              <CardHeader>\n                <h3>Login Here !!</h3>\n              </CardHeader>\n\n              <CardBody>\n                <Form onSubmit={handleFormSubmit}>\n                  {/* Email field */}\n\n                  <FormGroup>\n                    <Label for=\"email\">Enter Email</Label>\n                    <Input\n                      type=\"text\"\n                      id=\"email\"\n                      value={loginDetail.username}\n                      onChange={(e) => handleChange(e, \"username\")}\n                    />\n                  </FormGroup>\n\n                  {/* password field */}\n\n                  <FormGroup>\n                    <Label for=\"password\">Enter password</Label>\n                    <Input\n                      type=\"password\"\n                      id=\"password\"\n                      value={loginDetail.password}\n                      onChange={(e) => handleChange(e, \"password\")}\n                    />\n                  </FormGroup>\n\n                  <Container className=\"text-center\">\n                    <Button color=\"light\" outline>\n                      Login\n                    </Button>\n                    <Button onClick={handleReset} className=\"ms-2\" outline color=\"secondary\">\n                      Reset\n                    </Button>\n                  </Container>\n                </Form>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </Container>\n    </Base>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}