{"ast":null,"code":"import _defineProperty from\"C:/Users/patil/Desktop/Blog Application Project/Test/blog-app-main (2)/blog-app-main/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/patil/Desktop/Blog Application Project/Test/blog-app-main (2)/blog-app-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/patil/Desktop/Blog Application Project/Test/blog-app-main (2)/blog-app-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useEffect}from\"react\";import{Card,CardBody,Form,Input,Label,Button,Container}from\"reactstrap\";import{loadAllCategories}from\"../services/category-service\";import JoditEditor from\"jodit-react\";import{useRef}from\"react\";import{createPost as doCreatePost}from\"../services/post-service\";import{getCurrentUserDetail}from\"../auth\";import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddPost=function AddPost(){var editor=useRef(null);// const [content,setContent] =useState('')\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),categories=_useState2[0],setCategories=_useState2[1];var _useState3=useState(undefined),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var _useState5=useState({title:'',content:'',categoryId:''}),_useState6=_slicedToArray(_useState5,2),post=_useState6[0],setPost=_useState6[1];// const config={\n//     placeholder:\"Start typing...\",\n// }\nuseEffect(function(){setUser(getCurrentUserDetail());loadAllCategories().then(function(data){console.log(data);setCategories(data);}).catch(function(error){console.log(error);});},[]);//field changed function\nvar fieldChanged=function fieldChanged(event){// console.log(event)\nsetPost(_objectSpread(_objectSpread({},post),{},_defineProperty({},event.target.name,event.target.value)));};var contentFieldChanaged=function contentFieldChanaged(data){setPost(_objectSpread(_objectSpread({},post),{},{'content':data}));};//create post function\nvar createPost=function createPost(event){event.preventDefault();// console.log(post)\nif(post.title.trim()===''){toast.error(\"post  title is required !!\");return;}if(post.content.trim()===''){toast.error(\"post content is required !!\");return;}if(post.categoryId===''){toast.error(\"select some category !!\");return;}//submit the form one server\npost['userId']=user.id;doCreatePost(post).then(function(data){toast.success(\"Post Created !!\");// console.log(post)\nsetPost({title:'',content:'',categoryId:''});}).catch(function(error){toast.error(\"Post not created due to some error !!\");// console.log(error)\n});};return/*#__PURE__*/_jsx(\"div\",{className:\"wrapper pt-5\",children:/*#__PURE__*/_jsx(Card,{className:\"shadow-sm  border-0 mt-2\",children:/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"What going in your mind ?\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:createPost,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"my-3\",children:[/*#__PURE__*/_jsx(Label,{for:\"title\",children:\"Post title\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"title\",placeholder:\"Enter here\",className:\"rounded-0\",name:\"title\",onChange:fieldChanged})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-3\",children:[/*#__PURE__*/_jsx(Label,{for:\"content\",children:\"Post Content\"}),/*#__PURE__*/_jsx(JoditEditor,{ref:editor,value:post.content,onChange:function onChange(newContent){return contentFieldChanaged(newContent);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-3\",children:[/*#__PURE__*/_jsx(Label,{for:\"category\",children:\"Post Category\"}),/*#__PURE__*/_jsxs(Input,{type:\"select\",id:\"category\",placeholder:\"Enter here\",className:\"rounded-0\",name:\"categoryId\",onChange:fieldChanged,defaultValue:0,children:[/*#__PURE__*/_jsx(\"option\",{disabled:true,value:0,children:\"--Select category--\"}),categories.map(function(category){return/*#__PURE__*/_jsx(\"option\",{value:category.categoryId,children:category.categoryTitle},category.categoryId);})]})]}),/*#__PURE__*/_jsxs(Container,{className:\"text-center\",children:[/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"rounded-0\",color:\"primary\",children:\"Create Post\"}),/*#__PURE__*/_jsx(Button,{className:\"rounded-0 ms-2\",color:\"danger\",children:\"Reset Content\"})]})]})]})})});};export default AddPost;","map":{"version":3,"names":["useState","useEffect","Card","CardBody","Form","Input","Label","Button","Container","loadAllCategories","JoditEditor","useRef","createPost","doCreatePost","getCurrentUserDetail","toast","AddPost","editor","categories","setCategories","undefined","user","setUser","title","content","categoryId","post","setPost","then","data","console","log","catch","error","fieldChanged","event","target","name","value","contentFieldChanaged","preventDefault","trim","id","success","newContent","map","category","categoryTitle"],"sources":["C:/Users/patil/Desktop/Blog Application Project/Test/blog-app-main (2)/blog-app-main/src/components/AddPost.jsx"],"sourcesContent":["import { useState } from \"react\"\nimport { useEffect } from \"react\"\nimport { Card, CardBody, Form, Input, Label, Button, Container } from \"reactstrap\"\nimport { loadAllCategories } from \"../services/category-service\"\nimport JoditEditor from \"jodit-react\"\nimport { useRef } from \"react\"\nimport { createPost as doCreatePost } from \"../services/post-service\"\nimport { getCurrentUserDetail } from \"../auth\"\nimport { toast } from \"react-toastify\"\nconst AddPost = () => {\n\n    const editor = useRef(null)\n    // const [content,setContent] =useState('')\n    const [categories, setCategories] = useState([])\n    const [user, setUser] = useState(undefined)\n\n    const [post, setPost] = useState({\n        title: '',\n        content: '',\n        categoryId: ''\n    })\n\n    // const config={\n    //     placeholder:\"Start typing...\",\n\n    // }\n\n    useEffect(\n        () => {\n\n            setUser(getCurrentUserDetail())\n            loadAllCategories().then((data) => {\n                console.log(data)\n                setCategories(data)\n            }).catch(error => {\n                console.log(error)\n            })\n        },\n        []\n    )\n\n    //field changed function\n    const fieldChanged = (event) => {\n        // console.log(event)\n        setPost({ ...post, [event.target.name]: event.target.value })\n    }\n\n    const contentFieldChanaged = (data) => {\n\n        setPost({ ...post, 'content': data })\n\n\n    }\n\n\n    //create post function\n    const createPost = (event) => {\n\n        event.preventDefault();\n\n        // console.log(post)\n        if (post.title.trim() === '') {\n            toast.error(\"post  title is required !!\")\n            return;\n        }\n\n        if (post.content.trim() === '') {\n            toast.error(\"post content is required !!\")\n            return\n        }\n\n        if (post.categoryId === '') {\n            toast.error(\"select some category !!\")\n            return;\n        }\n\n\n        //submit the form one server\n        post['userId'] = user.id\n        doCreatePost(post).then(data => {\n            toast.success(\"Post Created !!\")\n            // console.log(post)\n            setPost({\n                title:'',\n                content:'',\n                categoryId:''\n            })\n        }).catch((error) => {\n            toast.error(\"Post not created due to some error !!\")\n            // console.log(error)\n        })\n\n    }\n\n\n    return (\n        <div className=\"wrapper pt-5\">\n            \n            <Card className=\"shadow-sm  border-0 mt-2\">\n                <CardBody>\n                    {/* {JSON.stringify(post)} */}\n                    <h3>What going in your mind ?</h3>\n                    <Form onSubmit={createPost}>\n                        <div className=\"my-3\">\n                            <Label for=\"title\" >Post title</Label>\n                            <Input\n                                type=\"text\"\n                                id=\"title\"\n                                placeholder=\"Enter here\"\n                                className=\"rounded-0\"\n                                name=\"title\"\n                                onChange={fieldChanged}\n                            />\n                        </div>\n\n                        <div className=\"my-3\">\n                            <Label for=\"content\" >Post Content</Label>\n                            {/* <Input\n                                type=\"textarea\"\n                                id=\"content\"\n                                placeholder=\"Enter here\"\n                                className=\"rounded-0\"\n                                style={{ height: '300px' }}\n                            /> */}\n\n                            <JoditEditor\n                                ref={editor}\n                                value={post.content}\n\n                                onChange={(newContent) => contentFieldChanaged(newContent)}\n                            />\n                        </div>\n                        <div className=\"my-3\">\n                            <Label for=\"category\" >Post Category</Label>\n                            <Input\n                                type=\"select\"\n                                id=\"category\"\n                                placeholder=\"Enter here\"\n                                className=\"rounded-0\"\n                                name=\"categoryId\"\n                                onChange={fieldChanged}\n                                defaultValue={0}\n\n                            >\n\n                                <option disabled value={0} >--Select category--</option>\n\n                                {\n\n                                    categories.map((category) => (\n                                        <option value={category.categoryId} key={category.categoryId}>\n                                            {category.categoryTitle}\n                                        </option>\n                                    ))\n\n                                }\n\n\n\n                            </Input>\n                        </div>\n\n                        <Container className=\"text-center\">\n                            <Button type=\"submit\" className=\"rounded-0\" color=\"primary\">Create Post</Button>\n                            <Button className=\"rounded-0 ms-2\" color=\"danger\">Reset Content</Button>\n                        </Container>\n\n\n                    </Form>\n\n\n                </CardBody>\n\n            </Card>\n\n\n\n\n        </div>\n    )\n}\n\nexport default AddPost"],"mappings":"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"},"metadata":{},"sourceType":"module"}