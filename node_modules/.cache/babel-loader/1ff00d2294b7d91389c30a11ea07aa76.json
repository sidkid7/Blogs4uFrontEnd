{"ast":null,"code":"import _defineProperty from\"C:/Users/patil/Desktop/Blog Application Project/Test/blog-app-main (2)/blog-app-main/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/patil/Desktop/Blog Application Project/Test/blog-app-main (2)/blog-app-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/patil/Desktop/Blog Application Project/Test/blog-app-main (2)/blog-app-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{toast}from\"react-toastify\";import{Label,Card,CardBody,CardHeader,Col,Container,Form,FormGroup,Input,Row,Button,CardFooter}from\"reactstrap\";import Base from\"../components/Base\";import{loginUser}from\"../services/user-service\";import{doLogin}from\"../auth\";import{useNavigate}from\"react-router-dom\";import{Link,NavLink as ReactLink}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var navigate=useNavigate();var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),loginDetail=_useState2[0],setLoginDetail=_useState2[1];var handleChange=function handleChange(event,field){var actualValue=event.target.value;setLoginDetail(_objectSpread(_objectSpread({},loginDetail),{},_defineProperty({},field,actualValue)));};var handleReset=function handleReset(){setLoginDetail({username:\"\",password:\"\"});};var handleFormSubmit=function handleFormSubmit(event){event.preventDefault();console.log(loginDetail);//validation\nif(loginDetail.username.trim()==\"\"||loginDetail.password.trim()==\"\"){toast.error(\"Username or Password  is required !!\");return;}//submit the data to server to generate token\nloginUser(loginDetail).then(function(data){console.log(data);//save the data to localstorage\ndoLogin(data,function(){console.log(\"login detail is saved to localstorage\");//redirect to user dashboard page\nnavigate(\"/user/dashboard\");});toast.success(\"Login Success\");}).catch(function(error){console.log(error);if(error.response.status==400||error.response.status==404){toast.error(error.response.data.message);}else{toast.error(\"Something went wrong  on sever !!\");}});};return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{className:\"mt-4\",children:[/*#__PURE__*/_jsx(Col,{sm:{size:6,offset:0},children:/*#__PURE__*/_jsxs(Container,{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{style:{textDecoration:\"none\"},tag:ReactLink,to:\"/\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-warning\",children:\"MyBlogs\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"it helps you share your Knowledge,with the world.\"})})]})}),/*#__PURE__*/_jsx(Col//   sm={{\n//     size: 5,\n//     offset: 7,\n//   }}\n,{children:/*#__PURE__*/_jsxs(Container,{className:\"mt-5 col-11\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Card,{className:\"shadow p-3 mb-5 bg-white rounded\",children:[/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"email\",placeholder:\"Email address\",value:loginDetail.username,onChange:function onChange(e){return handleChange(e,\"username\");}})}),/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(Input,{type:\"password\",id:\"password\",placeholder:\"Password\",value:loginDetail.password,onChange:function onChange(e){return handleChange(e,\"password\");}})}),/*#__PURE__*/_jsxs(Container,{className:\"text-center\",children:[/*#__PURE__*/_jsx(Button,{color:\"success\",children:\"Login\"}),/*#__PURE__*/_jsx(Button,{onClick:handleReset,className:\"ms-2\",color:\"secondary\",children:\"Reset\"}),/*#__PURE__*/_jsx(\"br\",{})]})]})}),/*#__PURE__*/_jsx(CardFooter,{children:/*#__PURE__*/_jsxs(Container,{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Don't have accout yet?\"}),/*#__PURE__*/_jsx(Link,{style:{textDecoration:\"none\"},tag:ReactLink,to:\"/signup\",children:/*#__PURE__*/_jsx(Button,{color:\"warning\",children:\"Create New Account\"})}),/*#__PURE__*/_jsx(\"h6\",{children:\"\\xA0\"})]})})]})]})})]})})// </Base>\n;};export default Login;","map":{"version":3,"names":["useState","toast","Label","Card","CardBody","CardHeader","Col","Container","Form","FormGroup","Input","Row","Button","CardFooter","Base","loginUser","doLogin","useNavigate","Link","NavLink","ReactLink","Login","navigate","username","password","loginDetail","setLoginDetail","handleChange","event","field","actualValue","target","value","handleReset","handleFormSubmit","preventDefault","console","log","trim","error","then","data","success","catch","response","status","message","size","offset","textDecoration","e"],"sources":["C:/Users/patil/Desktop/Blog Application Project/Test/blog-app-main (2)/blog-app-main/src/pages/Login.js"],"sourcesContent":["import { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport {\n  Label,\n  Card,\n  CardBody,\n  CardHeader,\n  Col,\n  Container,\n  Form,\n  FormGroup,\n  Input,\n  Row,\n  Button,\n  CardFooter,\n} from \"reactstrap\";\nimport Base from \"../components/Base\";\nimport { loginUser } from \"../services/user-service\";\nimport { doLogin } from \"../auth\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Link, NavLink as ReactLink } from \"react-router-dom\";\n\nconst Login = () => {\n  const navigate = useNavigate();\n\n  const [loginDetail, setLoginDetail] = useState({\n    username: \"\",\n    password: \"\",\n  });\n\n  const handleChange = (event, field) => {\n    let actualValue = event.target.value;\n    setLoginDetail({\n      ...loginDetail,\n      [field]: actualValue,\n    });\n  };\n\n  const handleReset = () => {\n    setLoginDetail({\n      username: \"\",\n      password: \"\",\n    });\n  };\n\n  const handleFormSubmit = (event) => {\n    event.preventDefault();\n    console.log(loginDetail);\n    //validation\n    if (\n      loginDetail.username.trim() == \"\" ||\n      loginDetail.password.trim() == \"\"\n    ) {\n      toast.error(\"Username or Password  is required !!\");\n      return;\n    }\n\n    //submit the data to server to generate token\n    loginUser(loginDetail)\n      .then((data) => {\n        console.log(data);\n\n        //save the data to localstorage\n        doLogin(data, () => {\n          console.log(\"login detail is saved to localstorage\");\n          //redirect to user dashboard page\n          navigate(\"/user/dashboard\");\n        });\n\n        toast.success(\"Login Success\");\n      })\n      .catch((error) => {\n        console.log(error);\n        if (error.response.status == 400 || error.response.status == 404) {\n          toast.error(error.response.data.message);\n        } else {\n          toast.error(\"Something went wrong  on sever !!\");\n        }\n      });\n  };\n\n  return (\n   \n      <Container>\n        <Row className=\"mt-4\">\n          <Col\n            sm={{\n              size: 6,\n              offset: 0,\n            }}\n          >\n            <Container className=\"mt-5\">\n              <br></br>\n              <br></br>\n              <br></br>\n              <br></br>\n              <br></br>\n              <Link style={{ textDecoration: \"none\" }} tag={ReactLink} to=\"/\">\n                <h1 className=\"text-warning\">MyBlogs</h1>\n              </Link>\n              <p>\n                <b>it helps you share your Knowledge,with the world.</b>\n              </p>\n            </Container>\n          </Col>\n          <Col\n          //   sm={{\n          //     size: 5,\n          //     offset: 7,\n          //   }}\n          >\n            <Container className=\"mt-5 col-11\">\n              <br></br>\n              <br></br>\n              <Card className=\"shadow p-3 mb-5 bg-white rounded\">\n                <CardBody>\n                  <Form onSubmit={handleFormSubmit}>\n                    {/* Email field */}\n                    <br></br>\n\n                    <FormGroup>\n                      <Input\n                        type=\"text\"\n                        id=\"email\"\n                        placeholder=\"Email address\"\n                        value={loginDetail.username}\n                        onChange={(e) => handleChange(e, \"username\")}\n                      />\n                    </FormGroup>\n\n                    {/* password field */}\n\n                    <FormGroup>\n                      <Input\n                        type=\"password\"\n                        id=\"password\"\n                        placeholder=\"Password\"\n                        value={loginDetail.password}\n                        onChange={(e) => handleChange(e, \"password\")}\n                      />\n                    </FormGroup>\n\n                    <Container className=\"text-center\">\n                      <Button color=\"success\">Login</Button>\n                      <Button\n                        onClick={handleReset}\n                        className=\"ms-2\"\n                        color=\"secondary\"\n                      >\n                        Reset\n                      </Button>\n                      <br></br>\n                    </Container>\n                  </Form>\n                </CardBody>\n                <CardFooter>\n                  <Container className=\"text-center\">\n                    <p>Don't have accout yet?</p>\n                    <Link\n                      style={{ textDecoration: \"none\" }}\n                      tag={ReactLink}\n                      to=\"/signup\"\n                    >\n                      <Button color=\"warning\">Create New Account</Button>\n                    </Link>\n                    <h6>&nbsp;</h6>\n                  </Container>\n                </CardFooter>\n              </Card>\n            </Container>\n          </Col>\n        </Row>\n      </Container>\n   // </Base>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}